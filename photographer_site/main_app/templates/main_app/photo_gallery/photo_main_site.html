<!-- templates/photo_list.html -->
{% extends "../base.html" %}
{% block title %}ğŸ“¸ Galeria zdjÄ™Ä‡{% endblock %}

{% block content %}
<h1 class="mb-5 text-center fw-bold display-5">ğŸ“· Najlepsze zdjÄ™cia</h1>

{% if photos %}
<div id="photoCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for photo in photos|slice:":3" %}
    <div class="carousel-item {% if forloop.first %}active{% endif %}">
      <div class="d-flex justify-content-center">
        <div class="card h-100 border-0 shadow rounded-4 overflow-hidden" style="max-width: 600px;">
          <img
            src="{{ photo.image.url }}"
            class="d-block w-100 img-fluid"
            alt="{{ photo.title }}"
          />
          <div class="card-body">
            <h5 class="card-title fw-semibold">{{ photo.title }}</h5>
            <p class="card-text text-muted small">
              {{ photo.description|truncatechars:120 }}
            </p>
          </div>
          <div class="card-footer bg-white border-top-0 d-flex justify-content-between align-items-center px-3 pb-3">
            <small class="text-muted">{{ photo.created_at|date:"d M Y" }}</small>
            <div>
              <span class="me-2">â¤ï¸ {{ photo.likes }}</span>
              <a
                class="btn btn-sm btn-outline-primary rounded-pill px-3"
                href="{% url 'main_app:photo_detail' photo.id %}"
              >
                Zobacz
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Kontrolki -->
  <button class="carousel-control-prev" type="button" data-bs-target="#photoCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Poprzednie</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#photoCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">NastÄ™pne</span>
  </button>
</div>
{% else %}
<p class="text-center text-muted fs-5 mt-4">Brak zdjÄ™Ä‡ do wyÅ›wietlenia.</p>
{% endif %}
{% endblock %}
